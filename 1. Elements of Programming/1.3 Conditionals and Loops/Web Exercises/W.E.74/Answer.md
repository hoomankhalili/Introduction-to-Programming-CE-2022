اصلا کامپایل نمی شود. زیرا کامپایل نمی تواند تضمین کند که rate مقدار اولیه است. به جای آن از if-else استفاده کنید.
